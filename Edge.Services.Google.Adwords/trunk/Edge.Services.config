<?xml version="1.0" encoding="utf-8" ?>
<configuration>

	<configSections>
		<section name="edge.services" type="Edge.Core.Configuration.EdgeServicesConfiguration, Edge.Core" />
		<section name="AdWordsApi" type="System.Configuration.DictionarySectionHandler"/>
	</configSections>
	<appSettings>
		<add key="Edge.Data.Pipeline.FileManager.RootPath" value="d:\test"/>
		<add key="Edge.Data.Pipeline.FileManager.BufferSize" value="20"/>
		<add key="Edge.Services.AdMetrics.AdMetricsImportManager.BufferSize" value="10"/>
		<add key="Edge.Data.Pipeline.Delivery.Db4o.FileName" value="Edge.Deliveries.db4o"/>
		<add key="Edge.Data.Objects.Measure.GetMeasures.SP" value="Measure_GetMeasures(@accountID:Int,@channelID:Int,@flags:int,@operator:int"/>
	</appSettings>
	<connectionStrings>
		<add name="Edge.Core.Services.SystemDatabase" connectionString="Data Source=localhost; Database=Edge_System; Integrated Security=SSPI"/>
		<add name="Edge.Services.Google.AdWords.AdwordsReport.SystemDatabase" connectionString="Data Source=shayba-pc; Database=Edge_System; User ID=sa; Password=sbarchen"/>
		<add name="Edge.Data.Pipeline.Delivery.Sql.DeliveriesDb" connectionString="Data Source=alonya-pc; Database=Deliveries;Integrated Security=false;User ID=sa;PWD=Iuh2sstd"/>
		<add name="Edge.Services.AdMetrics.AdMetricsImportManager.Oltp" connectionString="Data Source=alonya-pc; Database=testdb;Integrated Security=false;User ID=sa;PWD=Iuh2sstd"/>
		<add name="Edge.Services.Google.AdWords.GoogleUserEntity.MCC_Auth" connectionString="Data Source=shayba-pc; Database=Edge_System; User ID=sa; Password=sbarchen"/>
		<add name="Edge.Services.AdMetrics.ValidateCommitService.OLTP" connectionString="Data Source=alonya-pc; Database=testdb;Integrated Security=false;User ID=sa;PWD=Iuh2sstd"/>
	</connectionStrings>

	<edge.services>
		<Extensions>
			<add key="AutoSegments" value="Edge.Data.Pipeline.Configuration.AutoSegmentDefinitionCollection, Edge.Data.Pipeline"/>
		</Extensions>
		<Services>
			<!--DeliveryID="aa2d836933cb4c4cb47c2ea3ac288656"-->
			<Service Name="Adwords" AccountID="95"
							Adwords.ClientID="157-046-5380"
							Adwords.MccEmail="edge.bi.mcc@gmail.com"
							Adwords.Email="conduityochai@gmail.com"
							Adwords.ReportType="AD_PERFORMANCE_REPORT|KEYWORDS_PERFORMANCE_REPORT"
							Adwords.DateRange="YESTERDAY"
							includeConversionTypes ="true"
							includeZeroImpression ="true"
							includeDisplaytData ="true"
							Class="Edge.Data.Pipeline.Services.PipelineWorkflowService,Edge.Data.Pipeline"
					 		SQL.PrepareCommand="SP_Delivery_Commit_Adwords(@DeliveryID:NvarChar,@DeliveryTablePrefix:NvarChar,@MeasuresNamesSQL:NvarChar,@MeasuresFieldNamesSQL:NvarChar,?CommitTableName:NvarChar)"
							SQL.RollbackCommand="SP_Delivery_Rollback_By_DeliveryID(@DeliveryID:NvarChar,@TableName:NvarChar)"
							SQL.CommitCommand="SP_Delivery_Insert_Adwords(@DeliveryFileName:NvarChar,@CommitTableName:NvarChar,@MeasuresNamesSQL:NvarChar,@MeasuresFieldNamesSQL:NvarChar)"
					 >
				<Workflow>
					<Step Base="Initializer"	IsEnabled="true"/>
					<Step Base="Retriver"		IsEnabled="true"/>
					<Step Base="Processor"		IsEnabled="true"/>
					<Step Base="CommitService"/>
				</Workflow>
			</Service>
			<Service Name="Initializer" IsPublic="false" Class="Edge.Services.Google.AdWords.InitializerService, Edge.Services.Google.AdWords" ConflictBehavior="Abort"/>
			<Service Name="Retriver" IsPublic="false" Class="Edge.Services.Google.AdWords.RetrieverService, Edge.Services.Google.AdWords"/>
			<Service Name="Processor" IsPublic="false" Class="Edge.Services.Google.AdWords.ProcessorService, Edge.Services.Google.AdWords" AutoAdGroupSegment="true"/>
			<Service Name="CommitService" IsPublic="false" Class="Edge.Services.AdMetrics.CommitService,Edge.Services.AdMetrics"/>
		</Services>

		<Accounts>
			<Account ID="95" Name="Conduit" >
				<AutoSegments>
					<Segment Name="Tracker" SegmentID="-977">
						<Pattern Regex="(\bref_id=(?{ref_id}\w+)\b)" Value="{ref_id}"/>
						<!--<Pattern Regex="(\bgid=(?{EFtracker}\w+)\b)" Value="{EFtracker}"/>
						<Pattern Regex="(\bgid%3d(?{EFtracker}\w+)\b)" Value="{EFtracker}"/>-->
					</Segment>
				</AutoSegments>
				<Services>
					<Service Uses="Adwords"/>
				</Services>
			</Account>

			<!--<Account ID="7" Name="EasyForex" >
				<AutoSegments>
					<Segment Name="Tracker" SegmentID="-977">
						<Pattern Regex="(\bref_id=(?{ref_id}\w+)\b)" Value="{ref_id}"/>
						--><!--<Pattern Regex="(\bgid=(?{EFtracker}\w+)\b)" Value="{EFtracker}"/>
						<Pattern Regex="(\bgid%3d(?{EFtracker}\w+)\b)" Value="{EFtracker}"/>--><!--
					</Segment>
				</AutoSegments>
				<Services>
					<Service Uses="Adwords" Adwords.Email="easyforex777@gmail.com"/>
					<Service Uses="Adwords" Adwords.Email="ef.easynet@gmail.com"/>
					<Service Uses="Adwords" Adwords.Email="efseperia.push@gmail.com"/>
				</Services>
			</Account>-->
			<!--<Account ID="106" Name="Babylon" >
				<AutoSegments>
					<Segment Name="Tracker" SegmentID="-977">
						<Pattern Regex="(\btextlink=esyms(?{esyms}\w+)\b)" Value="{esyms}"/>
						<Pattern Regex="(\btextlink=esgn(?{esgn}\w+)\b)" Value="{esgn}"/>
						<Pattern Regex="(\btextlink=esfa(?{esfa}\w+)\b)" Value="{esfa}"/>
					</Segment>
				</AutoSegments>
				<Services>
					<Service Uses="Adwords" Adwords.Email="babylon@seperia.com"/>
				</Services>
			</Account>-->
			
			<!--<Account ID="-99" Name="TestConfiguration">
				<Services>
					<Service Uses="Adwords" Adwords.Email="easyforex777@gmail.com">
						<AutoSegments>
							<Segment Name="Tracker" SegmentID="-977">
								<Pattern Regex="(\bref_id=(?{ref_id}\w+)\b)" Value="{ref_id}"/>
							</Segment>
						</AutoSegments>
					</Service>
					<Service Uses="Adwords" Adwords.Email="ef.easynet@gmail.com">
						<AutoSegments>
							<Segment Name="Tracker" SegmentID="-977">
								<Pattern Regex="(\butm=(?{utm}\w+)\b)" Value="{utm}"/>
							</Segment>
						</AutoSegments>
					</Service>
					<Service Uses="Adwords" Adwords.Email="efseperia.push@gmail.com">
						<AutoSegments>
							<Segment Name="Tracker" SegmentID="-977">
								<Pattern Regex="(\bedge=(?{edge}\w+)\b)" Value="{edge}"/>
							</Segment>
						</AutoSegments>
					</Service>
				</Services>
			</Account>-->
		</Accounts>
	</edge.services>


	<system.web>
		<webServices>
			<soapExtensionTypes>
				<add type="Google.Api.Ads.Common.Lib.SoapListenerExtension, Google.AdWords" priority="1" group="0"/>
			</soapExtensionTypes>
		</webServices>
	</system.web>
	<system.net>
		<settings>
			<httpWebRequest maximumErrorResponseLength="-1"  />
		</settings>
	</system.net>

	<AdWordsApi>
		<!-- Change the appropriate flags to turn on SOAP logging. -->
		<add key="LogPath" value="C:\Logs\"/>
		<add key="LogToConsole" value="false"/>
		<add key="LogToFile" value="false"/>
		<add key="MaskCredentials" value="true"/>
		<add key="LogErrorsOnly" value="false"/>

		<!-- Fill the following values if you plan to use a proxy server.-->
		<add key="ProxyServer" value=""/>
		<add key="ProxyUser" value=""/>
		<add key="ProxyPassword" value=""/>
		<add key="ProxyDomain" value=""/>

		<!-- Use this key to change the default timeout for Ads services
        (in milliseconds.)-->
		<add key="Timeout" value="100000"/>

		<!-- Use this key to enable or disable gzip compression in SOAP requests.-->
		<add key="EnableGzipCompression" value="true"/>

		<!-- Fill the header values. -->
		<add key="UserAgent" value="ENTER_YOUR_COMPANY_OR_APPLICATION_NAME_HERE"/>
		<add key="Email" value="ENTER_YOUR_EMAIL_HERE"/>
		<add key="Password" value="ENTER_YOUR_PASSWORD_HERE"/>
		<add key="ClientEmail" value="ENTER_YOUR_CLIENT_EMAIL_HERE"/>
		<add key="DeveloperToken" value="ENTER_YOUR_DEVELOPER_TOKEN_HERE"/>
		<!-- Application token is now optional and will be ignored by the server.-->
		<!-- <add key="ApplicationToken" value="ENTER_YOUR_APPLICATION_TOKEN_HERE"/> -->

		<!-- Uncomment this key and comment ClientEmail if you want to specify
         customer id instead of customer email. -->
		<!-- <add key="ClientCustomerId"
        value="ENTER_YOUR_CLIENT_CUSTOMER_ID_HERE"/> -->

		<!-- Uncomment this if you want to reuse an authToken multiple times. -->
		<!--<add key="AuthToken" value="ENTER_YOUR_AUTH_TOKEN_HERE"/> -->

		<!-- Uncomment this key if you want to use v13 sandbox. -->
		<!-- <add key="LegacyAdWordsApi.Server" value="https://sandbox.google.com"/> -->

		<!-- Uncomment this key if you want to use AdWords API sandbox. -->
		<!-- <add key="AdWordsApi.Server" value="https://adwords-sandbox.google.com"/> -->
	</AdWordsApi>
</configuration>